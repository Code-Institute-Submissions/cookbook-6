{% extends 'base.html' %} {% block content %}

    <div class="container">
        <div class="row">
            <div class="col-12">
                <h1 class="index-title align-content-center mt-5 mb-5">Edit ingredient</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-10">
                <form action="{{ url_for('ingredient_update', ingredient_id=ingredient.id) }}" method="POST">
                    <div class="form-group">
                        <label for="name-input">Name</label>
                        <input id="name-input" class="form-control" type="text" name="name" placeholder="Ingredient"
                               value="{{ ingredient.name }}"/>
                    </div>
                    {% if form.name.errors %}
                        <ul class=errors>
                            {% for error in form.name.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                    <div class="form-group">
                        <label for="allergies">Allergies</label>

                        <select name="allergies" id="allergies" class="select2 form-control" multiple data-tags="true">
                            {% for allergy in allergies %}
                                <option value="{{ allergy.id }}"
                                        {% if allergy in ingredient.allergies %}
                                        selected
                                        {% endif %}
                                >{{ allergy.name }}</option>{
                            {% endfor %}
                        </select>
                        {% if form.allergies.errors %}
                            <ul class=errors>
                                {% for error in form.allergies.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-dark">Send</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

{% endblock %}
