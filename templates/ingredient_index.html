{% extends 'base.html' %} {% block content %}

    <div class="container">
        <div class="row">
            <div class="col-sm-8 offset-sm-2">
                <h1 class="index-title align-content-center mt-5 mb-5">Ingredients</h1>
            </div>

            <div class="col-sm-8 offset-sm-2">
                <a class="btn btn-create mb-5 align-content-center" href="{{ url_for('ingredient_create') }}">Create</a>
            </div>

            <div class="col-sm-10 offset-sm-2">
                <table class="table table-dark">
                    <thead>
                    <tr>
                        <th><h3 class="strong">Ingredient</h3></th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for ingredient in ingredients %}
                        <tr>
                            <td>

                                <a href="{{ url_for('ingredient_show', ingredient_id=ingredient.id) }}">
                                    <h4>{{ ingredient.name }}</h4>
                                </a>

                                {% for allergy in ingredient.allergies %}
                                    <a href="{{ url_for('allergy_show', allergy_id=allergy.id) }}"><span
                                            class="badge badge-light">{{ allergy.name }}</span></a>
                                {% endfor %}
                            </td>
                            <td class="text-right">
                                <form class="d-none"
                                      action="{{ url_for('ingredient_delete', ingredient_id=ingredient.id) }}"
                                      method="POST">
                                </form>
                                <div class="btn-group btn-group-sm">
                                    <a class="btn btn-light btn-edit"
                                       href="{{ url_for('ingredient_edit', ingredient_id=ingredient.id) }}">
                                        <i class="far fa-edit"></i>
                                    </a>
                                    <a class="btn btn-dark btn-delete onClickSubmitDeleteRequest">
                                        <i class="far fa-trash-alt"></i>
                                    </a>

                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>


{% endblock %}
